package controller;

import javax.servlet.http.HttpSession;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import dto.LoginInfo;
import dto.Member;
import service.MemberService;

@Controller
public class MemberController {
	
	@Autowired
	private MemberService memberSvc;
	//자동 주입

	@RequestMapping("/mypage/memberinfo")
	public String mypage(Model model, HttpSession session) {
		//Model은 map이랑 똑같다고 햇음 
		LoginInfo loginInfo = (LoginInfo) session.getAttribute("loginInfo");
		//LoginInfo는 타입 loginInfo 이름 그 뒤에는 값인데 (LoginInfo)로 타입 강제 변경
		Member member = memberSvc.myinfo(loginInfo.getId());
		model.addAttribute("member", member);
	return "mypage/memberinfo";	
	}
}
